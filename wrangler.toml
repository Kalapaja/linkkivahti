name = "linkkivahti"
main = "build/index.js"
compatibility_date = "2025-11-12"

[build]
command = "cargo install -q worker-build && worker-build --release"

# Cron trigger - runs every hour at minute 0
# Adjust the schedule as needed using cron syntax:
# */15 * * * * = every 15 minutes
# 0 * * * *    = every hour (current setting)
# 0 0 * * *    = daily at midnight
# 0 9 * * 1-5  = weekdays at 9 AM
[triggers]
crons = ["0 * * * *"]

# Secrets (set using: wrangler secret put WEBHOOK_URL)
# WEBHOOK_URL - Webhook URL for failure notifications (Discord, Slack, etc.)
#
# To set the secret:
#   wrangler secret put WEBHOOK_URL
#   Then paste your webhook URL when prompted
#
# To update:
#   wrangler secret put WEBHOOK_URL --env production
#
# Leave empty to disable webhook notifications (will still log to console)